<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>Indexing</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
<link rel="stylesheet" type="text/css" href="../main.css">
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../external_docs.css">

    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    
    <h1 class="title">Indexing</h1>
    <nav id="TOC"><ul>
<li><a href="#using-seq-for-all-dimensions">1 Using Seq for all dimensions</a><ul></ul></li>
<li><a href="#using-array-and-seq-combination">2 Using Array and Seq combination</a><ul></ul></li>
<li><a href="#extract-or-set-rowscoloumns">3 Extract or Set rows/coloumns</a><ul></ul></li></ul></nav><p><a href="./struct.Indexer.html">Indexer</a> structure is the key element used in Rust
wrapper for ArrayFire for creating references to existing Arrays. Given
below are few of such functions and their corresponding example use cases.
Use <a href="./struct.Indexer.html#method.new">Indexer::new</a> to create an Indexer
object and set either a <code>Seq</code> object or <code>Array</code> as indexing object for a
given dimension.</p>
<h1 id="using-seq-for-all-dimensions" class="section-header"><a href="#using-seq-for-all-dimensions">1 Using Seq for all dimensions</a></h1>
<p>Create a view of an existing Array using Sequences and <a href="./fn.index.html">index</a>.</p>

<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">dims</span> <span class="op">=</span> <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>]);
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">randu</span>::<span class="op">&lt;</span><span class="ident">f32</span><span class="op">&gt;</span>(<span class="ident">dims</span>);
<span class="macro">af_print</span><span class="macro">!</span>(<span class="string">&quot;a&quot;</span>, <span class="ident">a</span>);
<span class="comment">//a</span>
<span class="comment">//[5 5 1 1]</span>
<span class="comment">//    0.3990     0.5160     0.8831     0.9107     0.6688</span>
<span class="comment">//    0.6720     0.3932     0.0621     0.9159     0.8434</span>
<span class="comment">//    0.5339     0.2706     0.7089     0.0231     0.1328</span>
<span class="comment">//    0.1386     0.9455     0.9434     0.2330     0.2657</span>
<span class="comment">//    0.7353     0.1587     0.1227     0.2220     0.2299</span>

<span class="comment">// Index array using sequences</span>
<span class="kw">let</span> <span class="ident">seqs</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="ident">Seq</span>::<span class="ident">new</span>(<span class="number">1u32</span>, <span class="number">3</span>, <span class="number">1</span>), <span class="ident">Seq</span>::<span class="ident">default</span>()];
<span class="kw">let</span> <span class="ident">sub</span> <span class="op">=</span> <span class="ident">index</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>, <span class="ident">seqs</span>);
<span class="macro">af_print</span><span class="macro">!</span>(<span class="string">&quot;a(seq(1,3,1), span)&quot;</span>, <span class="ident">sub</span>);
<span class="comment">// [3 5 1 1]</span>
<span class="comment">//     0.6720     0.3932     0.0621     0.9159     0.8434</span>
<span class="comment">//     0.5339     0.2706     0.7089     0.0231     0.1328</span>
<span class="comment">//     0.1386     0.9455     0.9434     0.2330     0.2657</span></pre>
<p>Set a sub-portion of an existing Array with a constant value using <a href="./fn.assign_seq.html">assign_seq</a>.</p>

<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span>    <span class="op">=</span> <span class="ident">constant</span>(<span class="number">2.0</span> <span class="kw">as</span> <span class="ident">f32</span>, <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>]));
<span class="kw">let</span> <span class="ident">b</span>    <span class="op">=</span> <span class="ident">constant</span>(<span class="number">1.0</span> <span class="kw">as</span> <span class="ident">f32</span>, <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>]));
<span class="kw">let</span> <span class="ident">seqs</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="ident">Seq</span>::<span class="ident">new</span>(<span class="number">1.0</span>, <span class="number">3.0</span>, <span class="number">1.0</span>), <span class="ident">Seq</span>::<span class="ident">default</span>()];
<span class="kw">let</span> <span class="ident">sub</span>  <span class="op">=</span> <span class="ident">assign_seq</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>, <span class="ident">seqs</span>, <span class="kw-2">&amp;</span><span class="ident">b</span>);
<span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>);
<span class="comment">// 2.0 2.0 2.0</span>
<span class="comment">// 2.0 2.0 2.0</span>
<span class="comment">// 2.0 2.0 2.0</span>
<span class="comment">// 2.0 2.0 2.0</span>
<span class="comment">// 2.0 2.0 2.0</span>

<span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">sub</span>);
<span class="comment">// 2.0 2.0 2.0</span>
<span class="comment">// 1.0 1.0 1.0</span>
<span class="comment">// 1.0 1.0 1.0</span>
<span class="comment">// 1.0 1.0 1.0</span>
<span class="comment">// 2.0 2.0 2.0</span></pre>
<h1 id="using-array-and-seq-combination" class="section-header"><a href="#using-array-and-seq-combination">2 Using Array and Seq combination</a></h1>
<p>Create a view of an existing Array using another Array and Sequence.</p>

<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">arrayfire</span>::{<span class="ident">Array</span>, <span class="ident">Dim4</span>, <span class="ident">Seq</span>, <span class="ident">print</span>, <span class="ident">randu</span>, <span class="ident">index_gen</span>, <span class="ident">Indexer</span>};
<span class="kw">let</span> <span class="ident">values</span>: [<span class="ident">f32</span>; <span class="number">3</span>] <span class="op">=</span> [<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>];
<span class="kw">let</span> <span class="ident">indices</span> <span class="op">=</span> <span class="ident">Array</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="ident">values</span>, <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]));
<span class="kw">let</span> <span class="ident">seq4gen</span> <span class="op">=</span> <span class="ident">Seq</span>::<span class="ident">new</span>(<span class="number">0.0</span>, <span class="number">2.0</span>, <span class="number">1.0</span>);
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">randu</span>::<span class="op">&lt;</span><span class="ident">f32</span><span class="op">&gt;</span>(<span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>]));
<span class="comment">// [5 3 1 1]</span>
<span class="comment">//     0.0000     0.2190     0.3835</span>
<span class="comment">//     0.1315     0.0470     0.5194</span>
<span class="comment">//     0.7556     0.6789     0.8310</span>
<span class="comment">//     0.4587     0.6793     0.0346</span>
<span class="comment">//     0.5328     0.9347     0.0535</span>

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">idxrs</span> <span class="op">=</span> <span class="ident">Indexer</span>::<span class="ident">new</span>();
<span class="ident">idxrs</span>.<span class="ident">set_index</span>(<span class="kw-2">&amp;</span><span class="ident">indices</span>, <span class="number">0</span>, <span class="prelude-val">None</span>); <span class="comment">// 2nd parameter is indexing dimension</span>
<span class="ident">idxrs</span>.<span class="ident">set_index</span>(<span class="kw-2">&amp;</span><span class="ident">seq4gen</span>, <span class="number">1</span>, <span class="prelude-val">Some</span>(<span class="bool-val">false</span>)); <span class="comment">// 3rd parameter indicates batch operation</span>

<span class="kw">let</span> <span class="ident">sub2</span> <span class="op">=</span> <span class="ident">index_gen</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>, <span class="ident">idxrs</span>);
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a(indices, seq(0, 2, 1))&quot;</span>); <span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">sub2</span>);
<span class="comment">// [3 3 1 1]</span>
<span class="comment">//     0.1315     0.0470     0.5194</span>
<span class="comment">//     0.7556     0.6789     0.8310</span>
<span class="comment">//     0.4587     0.6793     0.0346</span></pre>
<p>Set a sub-portion of an existing Array with another Array using a combination
of <code>Seq</code> and <code>Array</code>.</p>

<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">arrayfire</span>::{<span class="ident">Array</span>, <span class="ident">Dim4</span>, <span class="ident">Seq</span>, <span class="ident">print</span>, <span class="ident">randu</span>, <span class="ident">constant</span>, <span class="ident">Indexer</span>, <span class="ident">assign_gen</span>};
<span class="kw">let</span> <span class="ident">values</span>: [<span class="ident">f32</span>; <span class="number">3</span>] <span class="op">=</span> [<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>];
<span class="kw">let</span> <span class="ident">indices</span> <span class="op">=</span> <span class="ident">Array</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="ident">values</span>, <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]));
<span class="kw">let</span> <span class="ident">seq4gen</span> <span class="op">=</span> <span class="ident">Seq</span>::<span class="ident">new</span>(<span class="number">0.0</span>, <span class="number">2.0</span>, <span class="number">1.0</span>);
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">randu</span>::<span class="op">&lt;</span><span class="ident">f32</span><span class="op">&gt;</span>(<span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>]));
<span class="comment">// [5 3 1 1]</span>
<span class="comment">//     0.0000     0.2190     0.3835</span>
<span class="comment">//     0.1315     0.0470     0.5194</span>
<span class="comment">//     0.7556     0.6789     0.8310</span>
<span class="comment">//     0.4587     0.6793     0.0346</span>
<span class="comment">//     0.5328     0.9347     0.0535</span>

<span class="kw">let</span> <span class="ident">b</span>    <span class="op">=</span> <span class="ident">constant</span>(<span class="number">2.0</span> <span class="kw">as</span> <span class="ident">f32</span>, <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>]));

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">idxrs</span> <span class="op">=</span> <span class="ident">Indexer</span>::<span class="ident">new</span>();
<span class="ident">idxrs</span>.<span class="ident">set_index</span>(<span class="kw-2">&amp;</span><span class="ident">indices</span>, <span class="number">0</span>, <span class="prelude-val">None</span>); <span class="comment">// 2nd parameter is indexing dimension</span>
<span class="ident">idxrs</span>.<span class="ident">set_index</span>(<span class="kw-2">&amp;</span><span class="ident">seq4gen</span>, <span class="number">1</span>, <span class="prelude-val">Some</span>(<span class="bool-val">false</span>)); <span class="comment">// 3rd parameter indicates batch operation</span>

<span class="kw">let</span> <span class="ident">sub2</span> <span class="op">=</span> <span class="ident">assign_gen</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>, <span class="kw-2">&amp;</span><span class="ident">idxrs</span>, <span class="kw-2">&amp;</span><span class="ident">b</span>);
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a(indices, seq(0, 2, 1))&quot;</span>); <span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">sub2</span>);
<span class="comment">// [5 3 1 1]</span>
<span class="comment">//     0.0000     0.2190     0.3835</span>
<span class="comment">//     2.0000     2.0000     2.0000</span>
<span class="comment">//     2.0000     2.0000     2.0000</span>
<span class="comment">//     2.0000     2.0000     2.0000</span>
<span class="comment">//     0.5328     0.9347     0.0535</span></pre>
<h1 id="extract-or-set-rowscoloumns" class="section-header"><a href="#extract-or-set-rowscoloumns">3 Extract or Set rows/coloumns</a></h1>
<p>Extract a specific set of rows/coloumns from an existing Array.</p>

<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">dims</span> <span class="op">=</span> <span class="ident">Dim4</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>]);
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">randu</span>::<span class="op">&lt;</span><span class="ident">f32</span><span class="op">&gt;</span>(<span class="ident">dims</span>);
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Grab last row of the random matrix&quot;</span>);
<span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>);
<span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">row</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>, <span class="number">4</span>));
<span class="ident">print</span>(<span class="kw-2">&amp;</span><span class="ident">col</span>(<span class="kw-2">&amp;</span><span class="ident">a</span>, <span class="number">4</span>));</pre>
<p>You can also use <a href="./fn.rows.html">rows</a> &amp; <a href="./fn.cols.html">cols</a> to retrieve a
subset of rows or coloumns respectively.</p>
<p>Similarly, <a href="./fn.set_row.html">set_row</a> &amp; <a href="./fn.set_rows.html">set_rows</a> can be used to change the values in a particular set of rows using another Array. <a href="./fn.set_col.html">set_col</a> &amp; <a href="./fn.set_cols.html">set_cols</a> has same functionality, except that it is for coloumns.</p>

    
</body>
</html>