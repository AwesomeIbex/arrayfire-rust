<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `anisotropic_diffusion` fn in crate `arrayfire`."><meta name="keywords" content="rust, rustlang, rust-lang, anisotropic_diffusion"><title>arrayfire::anisotropic_diffusion - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><link rel="shortcut icon" href="http://www.rust-lang.org/favicon.ico"><script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

</head><body class="rustdoc fn"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../arrayfire/index.html'><img src='http://www.arrayfire.com/logos/arrayfire_logo_symbol.png' alt='logo' width='100'></a><div class="sidebar-elems"><p class='location'><a href='index.html'>arrayfire</a></p><script>window.sidebarCurrent = {name: 'anisotropic_diffusion', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><input class="search-input" name="search" autocomplete="off" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='in-band'>Function <a href='index.html'>arrayfire</a>::<wbr><a class="fn" href=''>anisotropic_diffusion</a></span><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/arrayfire/image/mod.rs.html#1406-1424' title='goto source code'>[src]</a></span></h1><pre class='rust fn'>pub fn anisotropic_diffusion&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;img: &amp;<a class="struct" href="../arrayfire/struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;T&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;dt: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;k: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;iters: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fftype: <a class="enum" href="../arrayfire/enum.FluxFn.html" title="enum arrayfire::FluxFn">FluxFn</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;diff_kind: <a class="enum" href="../arrayfire/enum.DiffusionEq.html" title="enum arrayfire::DiffusionEq">DiffusionEq</a><br>) -&gt; <a class="struct" href="../arrayfire/struct.Array.html" title="struct arrayfire::Array">Array</a>&lt;T::<a class="type" href="../arrayfire/trait.HasAfEnum.html#associatedtype.AbsOutType" title="type arrayfire::HasAfEnum::AbsOutType">AbsOutType</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../arrayfire/trait.HasAfEnum.html" title="trait arrayfire::HasAfEnum">HasAfEnum</a> + EdgeComputable,<br>&nbsp;&nbsp;&nbsp;&nbsp;T::<a class="type" href="../arrayfire/trait.HasAfEnum.html#associatedtype.AbsOutType" title="type arrayfire::HasAfEnum::AbsOutType">AbsOutType</a>: <a class="trait" href="../arrayfire/trait.HasAfEnum.html" title="trait arrayfire::HasAfEnum">HasAfEnum</a>,&nbsp;</span></pre><div class='docblock'><p>Anisotropic smoothing filter</p>
<p>Anisotropic diffusion algorithm aims at removing noise in the images
while preserving important features such as edges. The algorithm
essentially creates a scale space representation of the original
image, where image from previous step is used to create a new version
of blurred image using the diffusion process. Standard isotropic diffusion
methods such as gaussian blur, doesn't take into account the local
content(smaller neighborhood of current processing pixel) while removing
noise. Anisotropic diffusion uses the flux equations given below to
achieve that. Flux equation is the formula used by the diffusion process
to determine how much a pixel in neighborhood should contribute to
the blurring operation being done at the current pixel at a given iteration.</p>
<p>The flux function can be either exponential or quadratic.</p>
<table>
<caption id="multi row">Available Flux Functions</caption>
<tr>
    <td align="center" style="vertical-align:middle;">
      AF_FLUX_QUADRATIC
    </td>
    <td align="center">
      \begin{equation}
        \frac{1}{1 + (\frac{\| \nabla I\|}{K})^2}
      \end{equation}
    </td>
</tr>
<tr>
    <td align="center" style="vertical-align:middle;">
      AF_FLUX_EXPONENTIAL
    </td>
    <td align="center">
      \begin{equation}
        \exp{-(\frac{\| \nabla I\|}{K})^2}
      \end{equation}
    </td>
</tr>
</table>
<p>Please be cautious using the time step parameter to the function.
Appropriate time steps for solving this type of p.d.e. depend on
the dimensionality of the image and the order of the equation.
Stable values for most 2D and 3D functions are 0.125 and 0.0625,
respectively. The time step values are automatically constrained
to the stable value.</p>
<p>Another input parameter to be cautious about is the conductance
parameter, lower values strongly preserve image features and
vice-versa. For human vision, this value ranges from 0.5 to 2.0.</p>
<h1 id="parameters" class="section-header"><a href="#parameters">Parameters</a></h1>
<ul>
<li><code>img</code> is the noisy input image</li>
<li><code>dt</code> is the timestep for diffusion equation</li>
<li><code>k</code> is the conductance parameter for diffusion</li>
<li><code>iters</code> is the number of iterations diffusion is performed</li>
<li><code>fftype</code> dictates the type of flux flow and it is an
<a href="./enum.DiffusionEq.html">enum</a></li>
<li><code>diff_kind</code> dictates the type of diffusion and it is an
<a href="./enum.FluxFn.html">enum</a></li>
</ul>
<h1 id="return-values" class="section-header"><a href="#return-values">Return Values</a></h1>
<p>Returns an anisotropically smoothed and noise-free image</p>
<h3 id="references" class="section-header"><a href="#references">References</a></h3>
<ul>
<li>Pietro Perona and Jitendra Malik, <code>Scale-space and edge detection using anisotropic diffusion,</code> IEEE Transactions on Pattern Analysis
Machine Intelligence, vol. 12, pp. 629-639, 1990.</li>
<li>R. Whitaker and X. Xue. <code>Variable-Conductance, Level-Set Curvature for Image Denoising</code>, International Conference on Image Processing,
2001 pp. 142-145, Vol.3.</li>
</ul>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g. <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g. <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g. <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../";window.currentCrate = "arrayfire";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>